import{A as m,x as g,T as y,C as c,E as V,F as o,o as l,ah as k,ae as w,P as S,b0 as i,ak as t,D as d,N as _,H as b,U as n}from"./index-2c369155.js";import{V as B}from"./VContainer-129d0fb9.js";import{a as C,V as D}from"./VRow-1ef26a63.js";const R=t("thead",null,[t("tr",null,[t("th",{class:"text-center"},"ID"),t("th",{class:"text-center"},"日期"),t("th",{class:"text-center"},"金額"),t("th",{class:"text-center"},"商品"),t("th",{class:"text-center"},"地址")])],-1),N={class:"text-center text-caption border-table-R text-body-2"},F={class:"text-center border-table-R text-body-2"},T={class:"text-center border-table-R text-pink"},$={class:"text-center border-table-R px-0"},q={class:"border-table-B"},v={class:"w-25 border-table-B"},A={class:"text-center border-table-R text-body-2"},j={__name:"UserOrdersView",setup(E){const u=m([]),x=g(),h=a=>a.split("").splice(11).join(""),p=a=>{const s=new Date(a),e=s.getFullYear(a),r=String(s.getMonth()+1).padStart(2,"0"),f=String(s.getDate()).padStart(2,"0");return`${e}${r}${f}`};return(async()=>{try{const{data:a}=await y.get("/orders");u.value.push(...a.result.map(s=>(s.total=s.cart.reduce((e,r)=>e+r.product.price*r.quantity,0),s)))}catch(a){x({text:a.response.data.message,showCloseButton:!1,snackbarProps:{timeout:3e3,color:"error",location:"bottom"}})}})(),(a,s)=>(c(),V(B,null,{default:o(()=>[l(D,null,{default:o(()=>[l(C,{cols:"12"},{default:o(()=>[l(k,null,{default:o(()=>[l(w,{class:"bg-blue text-center font-weight-bold text-h5"},{default:o(()=>[S("訂單資料")]),_:1}),l(i,{class:"tableFix"},{default:o(()=>[R,t("tbody",null,[(c(!0),d(b,null,_(u.value,e=>(c(),d("tr",{key:e._id},[t("td",N,n(p(e.date)+h(e._id)),1),t("td",F,n(new Date(e.date).toLocaleString()),1),t("td",T,"$"+n(e.total),1),t("td",$,[l(i,null,{default:o(()=>[(c(!0),d(b,null,_(e.cart,r=>(c(),d("tr",{class:"text-subtitle-2",key:r._id},[t("td",q,n(r.product.name),1),t("td",v,n(r.quantity)+" 個",1)]))),128))]),_:2},1024)]),t("td",A,n(e.address),1)]))),128))])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}};export{j as default};

import{p as ae,I as ie,m as ke,c as xe,W as Pe,g as le,X as Ce,y as we,Y as Ee,Z as $,z as D,_ as ue,$ as ze,a0 as Re,l as se,o as i,a1 as ce,V as J,a2 as Le,a3 as De,a4 as Oe,a5 as Be,i as Ie,A as W,J as de,q as te,a6 as Ae,a7 as Me,a8 as Fe,a9 as $e,aa as He,u as Ue,t as M,ab as Ne,ac as Ge,ad as Q,x as qe,C as F,D as j,F as T,H as X,T as je,ae as Xe,N as K,O as fe,af as Ye,ag as Z,P as We,U as Ke,ah as Je,ai as Ze,K as Qe,E as ve,aj as pe,ak as me}from"./index-acf387ef.js";import{_ as ye}from"./ProductCard-2e728f73.js";import{F as et}from"./FooterSection-bcea417d.js";import{V as ge}from"./VContainer-09275625.js";import{V as ee,a as Y}from"./VRow-6d3d5382.js";function he(t){const u=Math.abs(t);return Math.sign(t)*(u/((1/.501-2)*(1-u)+1))}function be(t){let{selectedElement:e,containerSize:u,contentSize:n,isRtl:p,currentScrollOffset:s,isHorizontal:o}=t;const a=o?e.clientWidth:e.clientHeight,v=o?e.offsetLeft:e.offsetTop,c=p&&o?n-v-a:v,r=u+s,h=a+c,b=a*.4;return c<=s?s=Math.max(c-b,0):r<=h&&(s=Math.min(s-(r-h-b),n-u)),s}function tt(t){let{selectedElement:e,containerSize:u,contentSize:n,isRtl:p,isHorizontal:s}=t;const o=s?e.clientWidth:e.clientHeight,a=s?e.offsetLeft:e.offsetTop,v=p&&s?n-a-o/2-u/2:a+o/2-u/2;return Math.min(n-u,Math.max(0,v))}const at=Symbol.for("vuetify:v-slide-group"),Te=ae({centerActive:Boolean,direction:{type:String,default:"horizontal"},symbol:{type:null,default:at},nextIcon:{type:ie,default:"$next"},prevIcon:{type:ie,default:"$prev"},showArrows:{type:[Boolean,String],validator:t=>typeof t=="boolean"||["always","desktop","mobile"].includes(t)},...ke(),...xe(),...Pe({selectedClass:"v-slide-group-item--active"})},"VSlideGroup"),Se=le()({name:"VSlideGroup",props:Te(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:u}=e;const{isRtl:n}=Ce(),{mobile:p}=we(),s=Ee(t,t.symbol),o=$(!1),a=$(0),v=$(0),c=$(0),r=D(()=>t.direction==="horizontal"),{resizeRef:h,contentRect:b}=ue(),{resizeRef:y,contentRect:g}=ue(),V=D(()=>s.selected.value.length?s.items.value.findIndex(l=>l.id===s.selected.value[0]):-1),m=D(()=>s.selected.value.length?s.items.value.findIndex(l=>l.id===s.selected.value[s.selected.value.length-1]):-1);if(ze){let l=-1;Re(()=>[s.selected.value,b.value,g.value,r.value],()=>{cancelAnimationFrame(l),l=requestAnimationFrame(()=>{if(b.value&&g.value){const f=r.value?"width":"height";v.value=b.value[f],c.value=g.value[f],o.value=v.value+1<c.value}if(V.value>=0&&y.value){const f=y.value.children[m.value];V.value===0||!o.value?a.value=0:t.centerActive?a.value=tt({selectedElement:f,containerSize:v.value,contentSize:c.value,isRtl:n.value,isHorizontal:r.value}):o.value&&(a.value=be({selectedElement:f,containerSize:v.value,contentSize:c.value,isRtl:n.value,currentScrollOffset:a.value,isHorizontal:r.value}))}})})}const S=$(!1);let k=0,P=0;function B(l){const f=r.value?"clientX":"clientY";P=(n.value&&r.value?-1:1)*a.value,k=l.touches[0][f],S.value=!0}function E(l){if(!o.value)return;const f=r.value?"clientX":"clientY",L=n.value&&r.value?-1:1;a.value=L*(P+k-l.touches[0][f])}function I(l){const f=c.value-v.value;a.value<0||!o.value?a.value=0:a.value>=f&&(a.value=f),S.value=!1}function _(){h.value&&(h.value[r.value?"scrollLeft":"scrollTop"]=0)}const C=$(!1);function O(l){if(C.value=!0,!(!o.value||!y.value)){for(const f of l.composedPath())for(const L of y.value.children)if(L===f){a.value=be({selectedElement:L,containerSize:v.value,contentSize:c.value,isRtl:n.value,currentScrollOffset:a.value,isHorizontal:r.value});return}}}function z(l){C.value=!1}function H(l){var f;!C.value&&!(l.relatedTarget&&((f=y.value)!=null&&f.contains(l.relatedTarget)))&&x()}function G(l){y.value&&(r.value?l.key==="ArrowRight"?x(n.value?"prev":"next"):l.key==="ArrowLeft"&&x(n.value?"next":"prev"):l.key==="ArrowDown"?x("next"):l.key==="ArrowUp"&&x("prev"),l.key==="Home"?x("first"):l.key==="End"&&x("last"))}function x(l){var f,L,ne,oe,re;if(y.value)if(!l)(f=Le(y.value)[0])==null||f.focus();else if(l==="next"){const N=(L=y.value.querySelector(":focus"))==null?void 0:L.nextElementSibling;N?N.focus():x("first")}else if(l==="prev"){const N=(ne=y.value.querySelector(":focus"))==null?void 0:ne.previousElementSibling;N?N.focus():x("last")}else l==="first"?(oe=y.value.firstElementChild)==null||oe.focus():l==="last"&&((re=y.value.lastElementChild)==null||re.focus())}function A(l){const f=a.value+(l==="prev"?-1:1)*v.value;a.value=De(f,0,c.value-v.value)}const U=D(()=>{let l=a.value>c.value-v.value?-(c.value-v.value)+he(c.value-v.value-a.value):-a.value;a.value<=0&&(l=he(-a.value));const f=n.value&&r.value?-1:1;return{transform:`translate${r.value?"X":"Y"}(${f*l}px)`,transition:S.value?"none":"",willChange:S.value?"transform":""}}),q=D(()=>({next:s.next,prev:s.prev,select:s.select,isSelected:s.isSelected})),d=D(()=>{switch(t.showArrows){case"always":return!0;case"desktop":return!p.value;case!0:return o.value||Math.abs(a.value)>0;case"mobile":return p.value||o.value||Math.abs(a.value)>0;default:return!p.value&&(o.value||Math.abs(a.value)>0)}}),R=D(()=>Math.abs(a.value)>0),w=D(()=>c.value>Math.abs(a.value)+v.value);return se(()=>i(t.tag,{class:["v-slide-group",{"v-slide-group--vertical":!r.value,"v-slide-group--has-affixes":d.value,"v-slide-group--is-overflowing":o.value},t.class],style:t.style,tabindex:C.value||s.selected.value.length?-1:0,onFocus:H},{default:()=>{var l,f,L;return[d.value&&i("div",{key:"prev",class:["v-slide-group__prev",{"v-slide-group__prev--disabled":!R.value}],onClick:()=>A("prev")},[((l=u.prev)==null?void 0:l.call(u,q.value))??i(ce,null,{default:()=>[i(J,{icon:n.value?t.nextIcon:t.prevIcon},null)]})]),i("div",{key:"container",ref:h,class:"v-slide-group__container",onScroll:_},[i("div",{ref:y,class:"v-slide-group__content",style:U.value,onTouchstartPassive:B,onTouchmovePassive:E,onTouchendPassive:I,onFocusin:O,onFocusout:z,onKeydown:G},[(f=u.default)==null?void 0:f.call(u,q.value)])]),d.value&&i("div",{key:"next",class:["v-slide-group__next",{"v-slide-group__next--disabled":!w.value}],onClick:()=>A("next")},[((L=u.next)==null?void 0:L.call(u,q.value))??i(ce,null,{default:()=>[i(J,{icon:n.value?t.prevIcon:t.nextIcon},null)]})])]}})),{selected:s.selected,scrollTo:A,scrollOffset:a,focus:x}}});const _e=Symbol.for("vuetify:v-tabs"),lt=ae({fixed:Boolean,sliderColor:String,hideSlider:Boolean,direction:{type:String,default:"horizontal"},...Oe(Be({selectedClass:"v-tab--selected",variant:"text"}),["active","block","flat","location","position","symbol"])},"VTab"),Ve=le()({name:"VTab",props:lt(),setup(t,e){let{slots:u,attrs:n}=e;const{textColorClasses:p,textColorStyles:s}=Ie(t,"sliderColor"),o=D(()=>t.direction==="horizontal"),a=$(!1),v=W(),c=W();function r(h){var y,g;let{value:b}=h;if(a.value=b,b){const V=(g=(y=v.value)==null?void 0:y.$el.parentElement)==null?void 0:g.querySelector(".v-tab--selected .v-tab__slider"),m=c.value;if(!V||!m)return;const S=getComputedStyle(V).color,k=V.getBoundingClientRect(),P=m.getBoundingClientRect(),B=o.value?"x":"y",E=o.value?"X":"Y",I=o.value?"right":"bottom",_=o.value?"width":"height",C=k[B],O=P[B],z=C>O?k[I]-P[I]:k[B]-P[B],H=Math.sign(z)>0?o.value?"right":"bottom":Math.sign(z)<0?o.value?"left":"top":"center",x=(Math.abs(z)+(Math.sign(z)<0?k[_]:P[_]))/Math.max(k[_],P[_]),A=k[_]/P[_],U=1.5;Ae(m,{backgroundColor:[S,"currentcolor"],transform:[`translate${E}(${z}px) scale${E}(${A})`,`translate${E}(${z/U}px) scale${E}(${(x-1)/U+1})`,"none"],transformOrigin:Array(3).fill(H)},{duration:225,easing:Me})}}return se(()=>{const[h]=de.filterProps(t);return i(de,te({symbol:_e,ref:v,class:["v-tab",t.class],style:t.style,tabindex:a.value?0:-1,role:"tab","aria-selected":String(a.value),active:!1,block:t.fixed,maxWidth:t.fixed?300:void 0,rounded:0},h,n,{"onGroup:selected":r}),{default:()=>{var b;return[((b=u.default)==null?void 0:b.call(u))??t.text,!t.hideSlider&&i("div",{ref:c,class:["v-tab__slider",p.value],style:s.value},null)]}})}),{}}});function st(t){return t?t.map(e=>typeof e=="string"?{title:e,value:e}:e):[]}const nt=ae({alignTabs:{type:String,default:"start"},color:String,fixedTabs:Boolean,items:{type:Array,default:()=>[]},stacked:Boolean,bgColor:String,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,sliderColor:String,...Te({mandatory:"force"}),...Fe(),...xe()},"VTabs"),ot=le()({name:"VTabs",props:nt(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:u}=e;const n=$e(t,"modelValue"),p=D(()=>st(t.items)),{densityClasses:s}=He(t),{backgroundColorClasses:o,backgroundColorStyles:a}=Ue(M(t,"bgColor"));return Ne({VTab:{color:M(t,"color"),direction:M(t,"direction"),stacked:M(t,"stacked"),fixed:M(t,"fixedTabs"),sliderColor:M(t,"sliderColor"),hideSlider:M(t,"hideSlider")}}),se(()=>{const[v]=Se.filterProps(t);return i(Se,te(v,{modelValue:n.value,"onUpdate:modelValue":c=>n.value=c,class:["v-tabs",`v-tabs--${t.direction}`,`v-tabs--align-tabs-${t.alignTabs}`,{"v-tabs--fixed-tabs":t.fixedTabs,"v-tabs--grow":t.grow,"v-tabs--stacked":t.stacked},s.value,o.value,t.class],style:[{"--v-tabs-height":Ge(t.height)},a.value,t.style],role:"tablist",symbol:_e}),{default:()=>[u.default?u.default():p.value.map(c=>i(Ve,te(c,{key:c.title}),null))]})}),{}}});function rt(t){let{swiper:e,extendParams:u,on:n,emit:p,params:s}=t;e.autoplay={running:!1,paused:!1,timeLeft:0},u({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!0,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let o,a,v=s&&s.autoplay?s.autoplay.delay:3e3,c=s&&s.autoplay?s.autoplay.delay:3e3,r,h=new Date().getTime,b,y,g,V,m,S;function k(d){!e||e.destroyed||!e.wrapperEl||d.target===e.wrapperEl&&(e.wrapperEl.removeEventListener("transitionend",k),O())}const P=()=>{if(e.destroyed||!e.autoplay.running)return;e.autoplay.paused?b=!0:b&&(c=r,b=!1);const d=e.autoplay.paused?r:h+c-new Date().getTime();e.autoplay.timeLeft=d,p("autoplayTimeLeft",d,d/v),a=requestAnimationFrame(()=>{P()})},B=()=>{let d;return e.virtual&&e.params.virtual.enabled?d=e.slides.filter(w=>w.classList.contains("swiper-slide-active"))[0]:d=e.slides[e.activeIndex],d?parseInt(d.getAttribute("data-swiper-autoplay"),10):void 0},E=d=>{if(e.destroyed||!e.autoplay.running)return;cancelAnimationFrame(a),P();let R=typeof d>"u"?e.params.autoplay.delay:d;v=e.params.autoplay.delay,c=e.params.autoplay.delay;const w=B();!Number.isNaN(w)&&w>0&&typeof d>"u"&&(R=w,v=w,c=w),r=R;const l=e.params.speed,f=()=>{!e||e.destroyed||(e.params.autoplay.reverseDirection?!e.isBeginning||e.params.loop||e.params.rewind?(e.slidePrev(l,!0,!0),p("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(e.slides.length-1,l,!0,!0),p("autoplay")):!e.isEnd||e.params.loop||e.params.rewind?(e.slideNext(l,!0,!0),p("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(0,l,!0,!0),p("autoplay")),e.params.cssMode&&(h=new Date().getTime(),requestAnimationFrame(()=>{E()})))};return R>0?(clearTimeout(o),o=setTimeout(()=>{f()},R)):requestAnimationFrame(()=>{f()}),R},I=()=>{e.autoplay.running=!0,E(),p("autoplayStart")},_=()=>{e.autoplay.running=!1,clearTimeout(o),cancelAnimationFrame(a),p("autoplayStop")},C=(d,R)=>{if(e.destroyed||!e.autoplay.running)return;clearTimeout(o),d||(S=!0);const w=()=>{p("autoplayPause"),e.params.autoplay.waitForTransition?e.wrapperEl.addEventListener("transitionend",k):O()};if(e.autoplay.paused=!0,R){m&&(r=e.params.autoplay.delay),m=!1,w();return}r=(r||e.params.autoplay.delay)-(new Date().getTime()-h),!(e.isEnd&&r<0&&!e.params.loop)&&(r<0&&(r=0),w())},O=()=>{e.isEnd&&r<0&&!e.params.loop||e.destroyed||!e.autoplay.running||(h=new Date().getTime(),S?(S=!1,E(r)):E(),e.autoplay.paused=!1,p("autoplayResume"))},z=()=>{if(e.destroyed||!e.autoplay.running)return;const d=Q();d.visibilityState==="hidden"&&(S=!0,C(!0)),d.visibilityState==="visible"&&O()},H=d=>{d.pointerType==="mouse"&&(S=!0,C(!0))},G=d=>{d.pointerType==="mouse"&&e.autoplay.paused&&O()},x=()=>{e.params.autoplay.pauseOnMouseEnter&&(e.el.addEventListener("pointerenter",H),e.el.addEventListener("pointerleave",G))},A=()=>{e.el.removeEventListener("pointerenter",H),e.el.removeEventListener("pointerleave",G)},U=()=>{Q().addEventListener("visibilitychange",z)},q=()=>{Q().removeEventListener("visibilitychange",z)};n("init",()=>{e.params.autoplay.enabled&&(x(),U(),h=new Date().getTime(),I())}),n("destroy",()=>{A(),q(),e.autoplay.running&&_()}),n("beforeTransitionStart",(d,R,w)=>{e.destroyed||!e.autoplay.running||(w||!e.params.autoplay.disableOnInteraction?C(!0,!0):_())}),n("sliderFirstMove",()=>{if(!(e.destroyed||!e.autoplay.running)){if(e.params.autoplay.disableOnInteraction){_();return}y=!0,g=!1,S=!1,V=setTimeout(()=>{S=!0,g=!0,C(!0)},200)}}),n("touchEnd",()=>{if(!(e.destroyed||!e.autoplay.running||!y)){if(clearTimeout(V),clearTimeout(o),e.params.autoplay.disableOnInteraction){g=!1,y=!1;return}g&&e.params.cssMode&&O(),g=!1,y=!1}}),n("slideChange",()=>{e.destroyed||!e.autoplay.running||(m=!0)}),Object.assign(e.autoplay,{start:I,stop:_,pause:C,resume:O})}const it={class:"d-flex align-center"},ut=Z("text",{class:"text-h6 font-weight-bold ms-2"},"給喜歡動漫的你",-1),ct={class:"d-flex align-center"},dt=Z("p",{class:"text-h6 font-weight-bold ms-2 text-white"},"更多更棒的商品推薦給你",-1),gt={__name:"ProductsView",setup(t){const e=qe(),{name:u,thresholds:n}=we(),p=W(null),s=["漫畫","插畫","素材","音樂","3D模型","遊戲","公仔"],o=[rt],a=[{path:new URL(""+new URL("carousel_01_big-3beb7af4.jpg",import.meta.url).href,self.location).href},{path:new URL(""+new URL("carousel_02_big-a9ab6d55.jpg",import.meta.url).href,self.location).href},{path:new URL(""+new URL("carousel_03_big-3d114b04.jpg",import.meta.url).href,self.location).href}],v=W([]),c={[n.value.xs]:{slidesPerView:1},[n.value.sm]:{slidesPerView:1},[n.value.md]:{slidesPerView:2},[n.value.lg]:{slidenPerView:2},[n.value.xl]:{slidenPerView:3},[n.value.xxl]:{slidenPerView:3}},r=D(()=>u.value==="lg"?2:1),h=async()=>{try{const{data:g}=await je.get("/products/?category="+p.value);v.value=[...g.result]}catch(g){e({text:g.response.data.message,showCloseButton:!1,snackbarProps:{timeout:3e3,color:"error",location:"bottom"}})}};h();const b=W([]);return(async()=>{try{const{data:g}=await Xe.get("/products/random");b.value.push(...g.result)}catch(g){e({text:g.response.data.message,showCloseButton:!1,snackbarProps:{timeout:3e3,color:"error",location:"bottom"}})}})(),(g,V)=>(F(),j(X,null,[i(ot,{class:"elevation-1",modelValue:p.value,"onUpdate:modelValue":[V[0]||(V[0]=m=>p.value=m),h],"bg-color":"light-blue-lighten-3",grow:"",density:"compact","fixed-tabs":!0},{default:T(()=>[(F(),j(X,null,K(s,m=>i(Ve,{class:"rounded-0",key:m,value:m,border:""},{default:T(()=>[We(Ke(m),1)]),_:2},1032,["value"])),64))]),_:1},8,["modelValue"]),i(ge,{fluid:""},{default:T(()=>[i(ee,null,{default:T(()=>[i(Y,{class:"pa-0",cols:"12"},{default:T(()=>[i(fe(Je),{class:"mySwiper",style:{height:"300px",width:"100%"},loop:!0,spaceBetween:50,autoplay:{delay:2500,disableOnInteraction:!1},modules:o,effect:"fade",breakpoints:c,slidesPerView:r.value},{default:T(()=>[(F(),j(X,null,K(a,(m,S)=>i(fe(Ze),{key:S},{default:T(()=>[i(Qe,{src:m.path,height:300,cover:""},null,8,["src"])]),_:2},1024)),64))]),_:1},8,["slidesPerView"])]),_:1})]),_:1})]),_:1}),i(Ye,{class:"ma-5"}),i(ge,null,{default:T(()=>[i(ee,null,{default:T(()=>[i(Y,{class:"bg-pink-accent-2 rounded-pill pa-1 mb-5",cols:"12"},{default:T(()=>[Z("div",it,[i(J,{class:"ms-2",start:!0,icon:"mdi-book-open-blank-variant",size:"x-large",color:"yellow"}),ut])]),_:1}),(F(!0),j(X,null,K(v.value,m=>(F(),ve(Y,{class:"px-5",cols:"12",md:"6",lg:"3",key:m._id},{default:T(()=>[i(ye,pe(me(m)),null,16)]),_:2},1024))),128)),i(Y,{class:"bg-light-blue-accent-2 rounded-pill pa-1 my-10",cols:"12"},{default:T(()=>[Z("div",ct,[i(J,{class:"ms-2",color:"pink",icon:"mdi-package",size:"x-large"}),dt])]),_:1})]),_:1}),i(ee,null,{default:T(()=>[(F(!0),j(X,null,K(b.value,m=>(F(),ve(Y,{class:"px-5",cols:"12",md:"6",lg:"3",key:m._id},{default:T(()=>[i(ye,pe(me(m)),null,16)]),_:2},1024))),128))]),_:1})]),_:1}),i(et,{style:{height:"150px"}})],64))}};export{gt as default};
